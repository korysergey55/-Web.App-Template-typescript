(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{117:function(e,t,a){e.exports={Overlay:"styles_Overlay__HyEgy",Modal:"styles_Modal__2l_wG",closeModal:"styles_closeModal__3Y1HR"}},183:function(e,t,a){e.exports={loading:"styles_loading__99RaB",Gradient:"styles_Gradient__3inIW"}},199:function(e,t,a){e.exports=a(399)},21:function(e,t,a){e.exports={weatherMainContainer:"styles_weatherMainContainer__28d6K",weatherListContainer:"styles_weatherListContainer__18rLT",close:"styles_close__12b7F",location:"styles_location__TZoPb",weatherDiscription:"styles_weatherDiscription__2S_gF",date:"styles_date__GFaxz",grafic:"styles_grafic__2C7HE",temperature:"styles_temperature__3UW1K",buttonsContainer:"styles_buttonsContainer__3t1CJ",buttonCelciy:"styles_buttonCelciy__23EQ5",buttonFaringeit:"styles_buttonFaringeit__2L4M8",temperatureFellsLike:"styles_temperatureFellsLike__sy96n",rightSideContainer:"styles_rightSideContainer__2TWl1",rightSide:"styles_rightSide__2l4qp",rightSidespan:"styles_rightSidespan__2elGz",activ:"styles_activ__1YLHs",activCelciy:"styles_activCelciy__19gf5"}},398:function(e,t,a){},399:function(e,t,a){"use strict";a.r(t);var n=a(66),r=a.n(n),o=r.a.create({baseURL:Object({NODE_ENV:"production",PUBLIC_URL:"/Web.App-Template-typescript",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_API_KEY:"b32058f10fd03c991cd00d5d3d9b95f9",REACT_APP_API_KEY_OLD_KEY:"d83cbb28a38e206fdd664ad53108a5f0"}).REACT_APP_HOST});o.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)}));var i,c,s,l,u,p,m,f,b,d,h,y,O,g,v,j,_,w,E,C,S,F,T,k=a(0),N=a.n(k),x=a(24),M=a.n(x),P=a(31),z=a.n(P),A=a(39),D=a(7),L=a(15),B=a(14),I=a(60),R=a(194),H=a(38),W=a(23),U=a(13),q=(a(76),a(5)),K=a(10),Y=new(i=function(){function e(){Object(D.a)(this,e),Object(W.a)(this,"user",c,this),Object(W.a)(this,"setInfo",s,this),Object(W.a)(this,"unSetInfo",l,this),Object(q.n)(this)}return Object(K.a)(e,[{key:"info",get:function(){return{name:this.user.name}}}]),e}(),c=Object(U.a)(i.prototype,"user",[q.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{id:0,name:"",company:{name:""}}}}),s=Object(U.a)(i.prototype,"setInfo",[q.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.user=t}}}),l=Object(U.a)(i.prototype,"unSetInfo",[q.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.user={id:0,name:"",company:{name:""}}}}}),Object(U.a)(i.prototype,"info",[q.g],Object.getOwnPropertyDescriptor(i.prototype,"info"),i.prototype),i),G=new(u=function(){function e(){var t=this;Object(D.a)(this,e),Object(W.a)(this,"users",p,this),Object(W.a)(this,"setInfo",m,this),Object(W.a)(this,"unSetInfo",f,this),Object(q.n)(this),Object(q.q)((function(){return t.users}),(function(e){return console.log(Object(q.s)(t.users))}))}return Object(K.a)(e,[{key:"info",get:function(){return{length:this.users.length}}}]),e}(),p=Object(U.a)(u.prototype,"users",[q.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=Object(U.a)(u.prototype,"setInfo",[q.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(A.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.users=a;case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),f=Object(U.a)(u.prototype,"unSetInfo",[q.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.users=[]}}}),Object(U.a)(u.prototype,"info",[q.g],Object.getOwnPropertyDescriptor(u.prototype,"info"),u.prototype),u),J=r.a.create({baseURL:"https://api.openweathermap.org/data/2.5/"}),Z=new(b=q.f.bound,d=q.f.bound,h=function(){function e(){var t=this;Object(D.a)(this,e),Object(W.a)(this,"lenguage",y,this),Object(W.a)(this,"forecast",O,this),Object(W.a)(this,"forecastByTime",g,this),Object(W.a)(this,"randonTemp",v,this),Object(W.a)(this,"timeChart",j,this),Object(q.n)(this),Object(q.q)((function(){return t.forecast}),(function(e){return console.log(Object(q.s)(t.forecast))}))}return Object(K.a)(e,[{key:"setLenguage",value:function(e){this.lenguage=e}},{key:"setRandonTemp",value:function(e){this.randonTemp=e}},{key:"setTimeChart",value:function(e){this.timeChart=e}},{key:"fetchForecast",value:function(){var e=Object(A.a)(z.a.mark((function e(t){var a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.get("/weather",{params:{q:t,units:"metric",appid:"b32058f10fd03c991cd00d5d3d9b95f9",lang:this.lenguage}});case 2:a=e.sent,this.setForecast(a.data);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setForecast",value:function(e){this.forecast=[e]}},{key:"fetchForecastByTime",value:function(e){var t=this;r.a.get("".concat("https://pro.openweathermap.org/data/2.5/","forecast/hourly?q=").concat(e,"&appid=").concat("b32058f10fd03c991cd00d5d3d9b95f9")).then((function(e){return e.data})).then((function(e){t.setForecastByTime(e)}))}},{key:"setForecastByTime",value:function(e){this.forecastByTime=[e]}}]),e}(),y=Object(U.a)(h.prototype,"lenguage",[q.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),O=Object(U.a)(h.prototype,"forecast",[q.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=Object(U.a)(h.prototype,"forecastByTime",[q.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[{}]}}),v=Object(U.a)(h.prototype,"randonTemp",[q.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=Object(U.a)(h.prototype,"timeChart",[q.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Object(U.a)(h.prototype,"setLenguage",[q.f],Object.getOwnPropertyDescriptor(h.prototype,"setLenguage"),h.prototype),Object(U.a)(h.prototype,"setRandonTemp",[q.f],Object.getOwnPropertyDescriptor(h.prototype,"setRandonTemp"),h.prototype),Object(U.a)(h.prototype,"setTimeChart",[q.f],Object.getOwnPropertyDescriptor(h.prototype,"setTimeChart"),h.prototype),Object(U.a)(h.prototype,"fetchForecast",[q.f],Object.getOwnPropertyDescriptor(h.prototype,"fetchForecast"),h.prototype),Object(U.a)(h.prototype,"setForecast",[b],Object.getOwnPropertyDescriptor(h.prototype,"setForecast"),h.prototype),Object(U.a)(h.prototype,"fetchForecastByTime",[q.f],Object.getOwnPropertyDescriptor(h.prototype,"fetchForecastByTime"),h.prototype),Object(U.a)(h.prototype,"setForecastByTime",[d],Object.getOwnPropertyDescriptor(h.prototype,"setForecastByTime"),h.prototype),h),V=new(_=function(){function e(){var t=this;Object(D.a)(this,e),Object(W.a)(this,"modal",w,this),Object(q.n)(this),Object(q.q)((function(){return t.modal}),(function(e){return console.log(Object(q.s)(t.modal))}))}return Object(K.a)(e,[{key:"setModal",value:function(){this.modal=!this.modal}}]),e}(),w=Object(U.a)(_.prototype,"modal",[q.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Object(U.a)(_.prototype,"setModal",[q.f],Object.getOwnPropertyDescriptor(_.prototype,"setModal"),_.prototype),_);Object(q.h)({enforceActions:"observed"});var Q=(E=function e(){Object(D.a)(this,e),Object(W.a)(this,"usersStore",C,this),Object(W.a)(this,"userStore",S,this),Object(W.a)(this,"wheatherStore",F,this),Object(W.a)(this,"modalStore",T,this)},C=Object(U.a)(E.prototype,"usersStore",[q.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return G}}),S=Object(U.a)(E.prototype,"userStore",[q.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y}}),F=Object(U.a)(E.prototype,"wheatherStore",[q.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Z}}),T=Object(U.a)(E.prototype,"modalStore",[q.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return V}}),E),X=new Q,$=Object(k.createContext)(X),ee=function(){var e=Object(k.useContext)($);if(!e)throw new Error("You have forgot to use StoreProvider, shame on you.");return e},te=new Q,ae=Object(H.b)((function(e){var t,a=ee().userStore.user;return(t=!(!a.id||1!==a.id))||R.b.warning(R.b?R.b:"You have not access to this page"),t?k.createElement(I.b,e):k.createElement(I.a,{to:e.redirectTo?e.redirectTo:"/"})})),ne=a(43),re=Object(ne.a)(),oe=a(183),ie=a.n(oe),ce=function(){return N.a.createElement("div",{className:ie.a.loading},N.a.createElement("span",null,"Application is loading, please wait..."))},se=function(e){Object(L.a)(a,e);var t=Object(B.a)(a);function a(){return Object(D.a)(this,a),t.apply(this,arguments)}return Object(K.a)(a,[{key:"render",value:function(){return N.a.createElement("p",null,"Admin")}}]),a}(N.a.Component),le=te.userStore;te.usersStore;function ue(e){le.setInfo(e),localStorage.setItem("user",JSON.stringify(e))}function pe(){return me.apply(this,arguments)}function me(){return(me=Object(A.a)(z.a.mark((function e(){var t,a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=localStorage.getItem("user")){e.next=4;break}return e.abrupt("return",null);case 4:return ue(a=JSON.parse(t)),e.abrupt("return",a);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}var fe=a(27),be=a(53),de=a(40),he=a(85),ye=a.n(he),Oe=a(21),ge=a.n(Oe),ve=a(30),je=a(197),_e=a(32),we=a(196);_e.c.register(we.a);var Ee=Object(H.b)((function(){var e=ee().wheatherStore,t=e.randonTemp,a=e.timeChart,n=Object(k.useState)({}),r=Object(de.a)(n,2),o=r[0],i=r[1];Object(k.useEffect)((function(){var e=document.getElementById("canvas").getContext("2d").createLinearGradient(0,0,0,80);e.addColorStop(0,"#5B8CFF"),e.addColorStop(1,"#FFF4F4");var n={labels:Object(ve.a)(a),datasets:[{fill:!0,data:Object(ve.a)(t),backgroundColor:e,pointStyle:"line",borderRadius:7,datalabels:{color:"#918f8f",anchor:"start",align:"top",offset:0,font:{size:8,lineHeight:1.2}}}]};i(n)}),[]);return N.a.createElement(N.a.Fragment,null,N.a.createElement(je.a,{id:"canvas",data:o,options:{maintainAspectRatio:!1,bezierCurve:!1,plugins:{legend:{display:!1}},elements:{line:{tension:.5,borderWidth:2}},scales:{yAxes:{display:!1,position:"right",color:"#5B8CFF",title:{align:"top",color:"#C5C5C5"},ticks:{beginAtZero:!0,color:"#C5C5C5",font:{size:12,lineHeight:1.2}},grid:{color:"transparent",borderWidth:"transparent"}},xAxes:{display:!0,ticks:{beginAtZero:!0,color:"#C5C5C5",font:{size:10,lineHeight:1.2}},grid:{color:"transparent",borderWidth:"transparent"}}}},width:150,height:80}))})),Ce=a(109),Se=a.n(Ce),Fe=Object(H.b)((function(){var e=ee().wheatherStore.forecast;Object(k.useEffect)((function(){l(e)}),[e]);var t=Object(k.useState)(0),a=Object(de.a)(t,2),n=a[0],r=a[1],o=Object(k.useState)(!1),i=Object(de.a)(o,2),c=i[0],s=i[1],l=function(e){if(e[0]&&e[0].main){var t,a=parseFloat(null===(t=e[0].main)||void 0===t?void 0:t.temp);r(a.toFixed(0))}};return N.a.createElement(N.a.Fragment,null,e.length?null===e||void 0===e?void 0:e.map((function(e,t){var a;return N.a.createElement("div",{className:ge.a.weatherMainContainer,key:e.id},N.a.createElement("div",{className:ge.a.weatherListContainer},N.a.createElement("a",{className:ge.a.close},"x"),N.a.createElement("h2",{className:ge.a.location},e.name,",",null===(a=e.sys)||void 0===a?void 0:a.country),N.a.createElement("div",{className:ge.a.hederWeatherContainer},N.a.createElement("img",{className:ge.a.iconWheather,src:"".concat("http://openweathermap.org/img/wn/").concat(e.weather[0].icon,".png"),width:"35",height:"35"}),N.a.createElement("p",{className:ge.a.weatherDiscription},e.weather[0].description))),N.a.createElement("h2",{className:ge.a.date}," ",Se.a.unix(e.dt).format("dd, D MMMM, HH:mm")),N.a.createElement("div",{className:ge.a.grafic},N.a.createElement(Ee,null)),N.a.createElement("div",{className:ge.a.buttonsContainer},N.a.createElement("button",{onClick:function(){return function(e){var t=parseFloat(e.main.temp);r(t.toFixed(0)),s((function(e){return!e}))}(e)},className:c?ge.a.buttonCelciy:ge.a.activCelciy}," \xb0C"),N.a.createElement("button",{className:c?ge.a.activ:ge.a.buttonFaringeit,onClick:function(){return function(e){var t=1.8*parseFloat(e.main.temp)+32;r(t.toFixed(0)),s((function(e){return!e}))}(e)}},"\xb0F")),N.a.createElement("p",{className:ge.a.temperature},"+",n),N.a.createElement("p",{className:ge.a.temperatureFellsLike},"Feels like: ",e.main.feels_like.toFixed(0)," \xb0C"),N.a.createElement("div",{className:ge.a.rightSideContainer},N.a.createElement("p",{className:ge.a.rightSide},"Wind:"," ",N.a.createElement("span",{className:ge.a.rightSidespan},e.wind.speed,"m/s")),N.a.createElement("p",{className:ge.a.rightSide},"Humidity:"," ",N.a.createElement("span",{className:ge.a.rightSidespan},e.main.humidity,"%")),N.a.createElement("p",{className:ge.a.rightSide},"Pressure:"," ",N.a.createElement("span",{className:ge.a.rightSidespan},e.main.pressure,"Pa"))))})):null)})),Te=a(401),ke=a(117),Ne=a.n(ke),xe=function(e){var t=e.children,a=ee().modalStore;Object(k.useEffect)((function(){return window.addEventListener("keydown",n),document.querySelector("body").style.overflow="hidden",function(){window.removeEventListener("keydown",n),document.querySelector("body").style.overflow="auto"}}));var n=function(e){"Escape"===e.code&&a.setModal()},r=document.getElementById("modal-root");return Object(x.createPortal)(N.a.createElement(N.a.Fragment,null,N.a.createElement("div",{className:Ne.a.Overlay,onClick:function(e){e.target===e.currentTarget&&a.setModal()}},N.a.createElement("div",{className:Ne.a.Modal},N.a.createElement("button",{type:"button",className:Ne.a.closeModal,onClick:function(){a.setModal()}}," X"),t))),r)},Me=Te.a.Option,Pe={sity:"cherkasy"},ze=Object(H.b)((function(e){var t=ee().wheatherStore,a=Object(k.useState)(Pe),n=Object(de.a)(a,2),r=n[0],o=n[1],i=ee().modalStore,c=function(){o({sity:""})},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:37;return Math.floor(Math.random()*(Math.floor(t)-Math.ceil(e)))+Math.ceil(e)},l=function(){for(var e=[],t=0;t<=7;t+=1)e.push(s());return e},u=function(){var e,a,n=[],r=null===(e=t.forecast[0])||void 0===e?void 0:e.dt;if(!(null===(a=t.forecast[0])||void 0===a?void 0:a.dt))return n=["16:00","17:00","18:00","19:00","20:00","21:00"];for(var o=0;o<=7;o+=1){var i=Se.a.unix(r).format("HH"),c=Number(i)-o+":00";n.push(c)}return n.reverse()};return N.a.createElement(N.a.Fragment,null,N.a.createElement("div",{className:ye.a.formContainer},N.a.createElement("form",null,N.a.createElement("input",{className:ye.a.input,type:"text",name:"sity",value:r.sity,onChange:function(e){var t=e.target,a=t.name,n=t.value;o((function(e){return Object(be.a)(Object(be.a)({},e),{},Object(fe.a)({},a,n))}))},placeholder:"Enter city name"}),N.a.createElement("button",{onClick:function(e){e.preventDefault(),t.fetchForecast(r.sity),t.setRandonTemp(l()),t.setTimeChart(u()),i.setModal(),c()},className:ye.a.buttonSubmit},"Add")),N.a.createElement("div",{className:"selectContainer"},N.a.createElement(Te.a,{showSearch:!0,style:{width:72},placeholder:"Search to Select",optionFilterProp:"children",defaultValue:"en",dropdownClassName:ye.a.inputSelect,onChange:function(e){t.setLenguage(e),t.fetchForecast(r.sity)}},N.a.createElement(Me,{value:"en"},"EN"),N.a.createElement(Me,{value:"ua"},"UA"),N.a.createElement(Me,{value:"ru"},"RU")))),N.a.createElement(Fe,null),i.modal?N.a.createElement(xe,null,N.a.createElement(Fe,null)):null)})),Ae=function(e){Object(L.a)(a,e);var t=Object(B.a)(a);function a(){var e;Object(D.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={initialized:!1},e.componentDidMount=function(){e.loadUser()},e.loadUser=Object(A.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,pe();case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.log(t.t0);case 8:return t.prev=8,e.setState({initialized:!0}),t.finish(8);case 11:case"end":return t.stop()}}),t,null,[[0,5,8,11]])}))),e.render=function(){return N.a.createElement(H.a,te,e.state.initialized?N.a.createElement(I.c,{history:re},N.a.createElement(I.d,null,N.a.createElement(ae,{roles:["admin"],path:"/admin",component:se}),N.a.createElement(I.b,{path:"/",component:ze}))):N.a.createElement(ce,null))},e}return a}(k.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(396),a(397),a(398);M.a.render(N.a.createElement(Ae,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},85:function(e,t,a){e.exports={formContainer:"styles_formContainer__35ADt",input:"styles_input__1-6Lu",buttonSubmit:"styles_buttonSubmit__2bMs-",inputSelect:"styles_inputSelect__1cgcn"}}},[[199,1,2]]]);
//# sourceMappingURL=main.fcc53d3c.chunk.js.map